jQuery(function(i){if("undefined"==typeof oceanwpLocalize||i(".woocommerce div.product").hasClass("product-type-grouped"))return!1;var a=function(){i(document.body).on("click",".product:not(.product-type-external) .single_add_to_cart_button:not(.disabled)",this.onAddToCart).on("added_to_cart",this.updateButton)};a.prototype.onAddToCart=function(a){a.preventDefault();var t=i(this),e=i(this).val(),r=i('input[name="variation_id"]').val(),o=i('input[name="quantity"]').val(),d=i(this).closest(".variations_form"),n=d.find("select[name^=attribute]"),c={};t.removeClass("added"),t.addClass("loading"),n.length||(n=d.find("[name^=attribute]:checked")),n.length||(n=d.find("input[name^=attribute]")),n.each(function(){var a,t,e=i(this),r=e.attr("name"),o=e.val();e.removeClass("error"),0===o.length?(a=r.lastIndexOf("_"),t=r.substring(a+1),e.addClass("required error").before("Please select "+t)):c[r]=o}),""!=r?i.ajax({url:oceanwpLocalize.ajax_url,type:"POST",data:{action:"oceanwp_add_cart_single_product",product_id:e,variation_id:r,variation:c,quantity:o},success:function(a){i(document.body).trigger("wc_fragment_refresh"),i(document.body).trigger("added_to_cart",[a.fragments,a.cart_hash,t]),"yes"!==oceanwpLocalize.cart_redirect_after_add||(window.location=oceanwpLocalize.cart_url)}}):i.ajax({url:oceanwpLocalize.ajax_url,type:"POST",data:{action:"oceanwp_add_cart_single_product",product_id:e,quantity:o},success:function(a){i(document.body).trigger("wc_fragment_refresh"),i(document.body).trigger("added_to_cart",[a.fragments,a.cart_hash,t]),"yes"!==wc_add_to_cart_params.cart_redirect_after_add||(window.location=wc_add_to_cart_params.cart_url)}})},a.prototype.updateButton=function(a,t,e,r){(r=void 0!==r&&r)&&(r.removeClass("loading"),r.addClass("added"),oceanwpLocalize.is_cart||0!==r.parent().find(".added_to_cart").length||r.after(' <a href="'+oceanwpLocalize.cart_url+'" class="added_to_cart wc-forward" title="'+oceanwpLocalize.view_cart+'">'+oceanwpLocalize.view_cart+"</a>"))},new a});